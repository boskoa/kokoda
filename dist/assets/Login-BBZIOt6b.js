import{u as C,r as a,a as g,s as S,B as b,g as y,C as T,D as N,j as e,E as q}from"./index-DWzSJu7u.js";import{FormContainer as B,Title as F,InputContainer as p,AuthInput as x,Error as j,ButtonContainer as I,Button as f,ReqError as D}from"./index-CP0S0PB9.js";function k(){var d,l,h,m;const o=C(),[w,n]=a.useState(0),t=g(S),i=g(b),c=y(),{register:u,handleSubmit:L,formState:{errors:s,isValid:E}}=T({mode:"onChange"});a.useEffect(()=>{const r=setTimeout(()=>n(1),250);return()=>{c(N()),clearTimeout(r)}},[]),a.useEffect(()=>{t!=null&&t.username&&o("/chats")},[t]);function $(){n(0);const r=setTimeout(()=>o("/authentication/register"),250);return()=>clearTimeout(r)}function v(r){c(q(r))}return e.jsxs(B,{onSubmit:L(v),$opacity:w,children:[e.jsx(F,{children:"LOGIN"}),e.jsxs(p,{children:[e.jsx(x,{$color:s.username?"red":"gold",autoFocus:!0,placeholder:"username",name:"username",type:"text",...u("username",{required:!0,minLength:{value:2,message:"More than 1 character."},maxLength:{value:20,message:"Less than 21 characters."}})}),e.jsx(j,{$show:(d=s.username)==null?void 0:d.message,children:(l=s.username)==null?void 0:l.message})]}),e.jsxs(p,{children:[e.jsx(x,{$color:s.password?"red":"gold",placeholder:"password",name:"password",type:"password",...u("password",{required:!0,minLength:{value:6,message:"More than 5 character."}})}),e.jsx(j,{$show:(h=s.password)==null?void 0:h.message,children:(m=s.password)==null?void 0:m.message})]}),e.jsxs(I,{children:[e.jsx(f,{type:"button",onClick:$,children:"Not registered?"}),e.jsx(f,{$disabled:!E,type:"submit",children:"Log in"})]}),e.jsx(D,{$show:i,children:i})]})}export{k as default};
